{{!--
  Copyright 2016, Yahoo Inc.
  Licensed under the terms of the Apache License, Version 2.0.
  See the LICENSE file associated with the project for terms.
 --}}
<div class="results-container">
  <div class="information-container query-information">
    <div class="query-title">
      <p>
        {{if model.query.name model.query.name "New Untitled Query"}}
      </p>
    </div>
    <div class="information-wrapper query-blurb-wrapper" {{action "queryClick" model.query}}>
      <div class="information-text query-text">
        <h4>Query Definition</h4>
        {{query-blurb query=model.querySnapshot}}
      </div>
      <button class="btn btn-info btn-primary query-link-button" {{action "queryClick" model.query}}>
        Edit
      </button>
    </div>
  </div>

  <div class="information-container result-information">
    <div class="information-wrapper metadata-wrapper">
      <div class="information-text metadata-text">
        <span class="section-header">
          <h4 class="section-title">Result Metadata</h4>
          {{#info-popover title="Result Metadata"}}
            {{partial "partials/result-metadata-help"}}
          {{/info-popover}}
        </span>
        {{result-metadata metadata=model.metadata}}
      </div>
    </div>
  </div>

  <div class="result-container">
    {{#if model.records}}
      {{#if model.isReallyRaw}}
        {{records-viewer model=model records=model.records metadata=model.metadata showRawData=true}}
      {{else}}
        {{records-viewer model=model records=model.records metadata=model.metadata showTable=true}}
      {{/if}}
    {{else}}
      {{partial "partials/no-results-help"}}
    {{/if}}
  </div>
</div>
