{{!--
  Copyright 2016, Yahoo Inc.
  Licensed under the terms of the Apache License, Version 2.0.
  See the LICENSE file associated with the project for terms.
 --}}
 <div class="schema-table {{if @isNested "is-nested"}}" ...attributes>
  <LightTable @table={{this.table}} @height="inherit" as |t|>

    {{#unless @isNested}}
      <t.head @onColumnClick={{action "onColumnClick"}} @iconAscending="fa fa-chevron-up" @iconDescending="fa fa-chevron-down" @fixed={{true}} />
     {{/unless}}

    <t.body @canSelect={{false}} @canExpand={{true}} @scrollBuffer={{1000}} @onRowClick={{fn this.onRowClick}}
            @rowComponent={{component "schema-table-row"}} @onScrolledToBottom={{fn this.onScrolledToBottom}} as |b|>

      {{#unless @isNested}}
        <b.expanded-row as |e|>
          <SchemaTable @fields={{get e "enumeratedColumns"}} @isNested={{true}} @height="auto" />
        </b.expanded-row>
      {{/unless}}

    </t.body>
  </LightTable>
</div>
